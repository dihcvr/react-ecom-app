(this["webpackJsonpEcom-dashboard"]=this["webpackJsonpEcom-dashboard"]||[]).push([[149],{2007:function(e,t,a){"use strict";a.r(t);var s=a(32),n=a(1),r=a(16),o=a(0),c=a(58),i=a.n(c),l=a(471),j=a(536),d=a(768),u=a(126),b=a(497),f=a(128),p=d.a.jwtConfig,h=a(132),m=a(508),g=a(464),O=a(502),y=a(479),x=a(1016),v=a(1043),N=a(469),k=a(470),T=a(472),w=a(475),C=a(489),P=a(501),E=a(1118),R=a(940),F=a(482),S=a(966),A=a(937),L=a(462),M=(a(511),a(6)),I=function(e){var t=e.name,a=e.role;return Object(M.jsxs)(o.Fragment,{children:[Object(M.jsx)("div",{className:"toastify-header",children:Object(M.jsxs)("div",{className:"title-wrapper",children:[Object(M.jsx)(l.a,{size:"sm",color:"success",icon:Object(M.jsx)(x.a,{size:12})}),Object(M.jsxs)("h6",{className:"toast-title font-weight-bold",children:["Welcome, ",t]})]})}),Object(M.jsx)("div",{className:"toastify-body",children:Object(M.jsxs)("span",{children:["You have successfully logged in as an ",a," user to Vuexy. Now you can start to explore. Enjoy!"]})})]})};t.default=function(e){var t,c=Object(j.a)(),l=Object(r.a)(c,2),x=l[0],K=(l[1],Object(o.useContext)(h.a)),z=Object(u.b)(),G=Object(m.g)(),D=Object(o.useState)(""),J=Object(r.a)(D,2),q=J[0],B=J[1],W=Object(o.useState)(""),Z=Object(r.a)(W,2),U=Z[0],V=Z[1],Y=Object(b.c)(),H=Y.register,Q=Y.errors,X=Y.handleSubmit,$="dark"===x?"login-v2-dark.svg":"login-v2.svg";a(627)("./".concat($)).default;return Object(M.jsx)("div",{className:"auth-wrapper auth-v1 px-2",children:Object(M.jsx)("div",{className:"auth-inner py-2",children:Object(M.jsx)(N.a,{className:"mb-0",children:Object(M.jsxs)(k.a,{children:[Object(M.jsxs)(g.b,{className:"brand-logo",to:"/",onClick:function(e){return e.preventDefault()},children:[Object(M.jsxs)("svg",{viewBox:"0 0 139 95",version:"1.1",height:"28",children:[Object(M.jsxs)("defs",{children:[Object(M.jsxs)("linearGradient",{x1:"100%",y1:"10.5120544%",x2:"50%",y2:"89.4879456%",id:"linearGradient-1",children:[Object(M.jsx)("stop",{stopColor:"#000000",offset:"0%"}),Object(M.jsx)("stop",{stopColor:"#FFFFFF",offset:"100%"})]}),Object(M.jsxs)("linearGradient",{x1:"64.0437835%",y1:"46.3276743%",x2:"37.373316%",y2:"100%",id:"linearGradient-2",children:[Object(M.jsx)("stop",{stopColor:"#EEEEEE",stopOpacity:"0",offset:"0%"}),Object(M.jsx)("stop",{stopColor:"#FFFFFF",offset:"100%"})]})]}),Object(M.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(M.jsx)("g",{id:"Artboard",transform:"translate(-400.000000, -178.000000)",children:Object(M.jsxs)("g",{id:"Group",transform:"translate(400.000000, 178.000000)",children:[Object(M.jsx)("path",{d:"M-5.68434189e-14,2.84217094e-14 L39.1816085,2.84217094e-14 L69.3453773,32.2519224 L101.428699,2.84217094e-14 L138.784583,2.84217094e-14 L138.784199,29.8015838 C137.958931,37.3510206 135.784352,42.5567762 132.260463,45.4188507 C128.736573,48.2809251 112.33867,64.5239941 83.0667527,94.1480575 L56.2750821,94.1480575 L6.71554594,44.4188507 C2.46876683,39.9813776 0.345377275,35.1089553 0.345377275,29.8015838 C0.345377275,24.4942122 0.230251516,14.560351 -5.68434189e-14,2.84217094e-14 Z",id:"Path",className:"text-primary",style:{fill:"currentColor"}}),Object(M.jsx)("path",{d:"M69.3453773,32.2519224 L101.428699,1.42108547e-14 L138.784583,1.42108547e-14 L138.784199,29.8015838 C137.958931,37.3510206 135.784352,42.5567762 132.260463,45.4188507 C128.736573,48.2809251 112.33867,64.5239941 83.0667527,94.1480575 L56.2750821,94.1480575 L32.8435758,70.5039241 L69.3453773,32.2519224 Z",id:"Path",fill:"url(#linearGradient-1)",opacity:"0.2"}),Object(M.jsx)("polygon",{id:"Path-2",fill:"#000000",opacity:"0.049999997",points:"69.3922914 32.4202615 32.8435758 70.5039241 54.0490008 16.1851325"}),Object(M.jsx)("polygon",{id:"Path-2",fill:"#000000",opacity:"0.099999994",points:"69.3922914 32.4202615 32.8435758 70.5039241 58.3683556 20.7402338"}),Object(M.jsx)("polygon",{id:"Path-3",fill:"url(#linearGradient-2)",opacity:"0.099999994",points:"101.428699 0 83.0667527 94.1480575 130.378721 47.0740288"})]})})})]}),Object(M.jsx)("h2",{className:"brand-text text-primary ml-1",children:"Ecom"})]}),Object(M.jsx)(T.a,{tag:"h4",className:"mb-1",children:"Welcome ! \ud83d\udc4b"}),Object(M.jsx)(w.a,{className:"mb-2",children:"Please sign-in to your account and start the adventure"}),Object(M.jsxs)(C.a,{className:"auth-login-form mt-2",onSubmit:X((function(e){Object(y.f)(Q)&&(console.log(e),d.a.login(e).then((function(e){console.log(e.data);var t=Object(n.a)(Object(n.a)({},e.data.user),{},{accessToken:e.data.accessToken,refreshToken:e.data.accessToken});z(function(e){return function(t){var a;t((a={type:"LOGIN",data:e,config:p},Object(s.a)(a,p.storageTokenKeyName,e[p.storageTokenKeyName]),Object(s.a)(a,p.storageRefreshTokenKeyName,e[p.storageRefreshTokenKeyName]),a)),localStorage.setItem("userData",JSON.stringify(e)),localStorage.setItem(p.storageTokenKeyName,JSON.stringify(e.accessToken)),localStorage.setItem(p.storageRefreshTokenKeyName,JSON.stringify(e.refreshToken))}}(t)),K.update([{action:"manage",subject:"all"}]),f.f.success(Object(M.jsx)(I,{name:t.fullName||t.username||"John Doe",role:t.role||"admin"}),{transition:f.c,hideProgressBar:!0,autoClose:2e3}),window.location.reload(!1),G.push(Object(y.d)(t.role))})).catch((function(e){return console.log(e)})))})),children:[Object(M.jsxs)(P.a,{color:"primary",children:[Object(M.jsxs)("div",{className:"alert-body font-small-2",children:[Object(M.jsx)("p",{children:Object(M.jsxs)("small",{className:"mr-50",children:[Object(M.jsx)("span",{className:"font-weight-bold",children:"Admin:"})," email@example.com| admin123"]})}),Object(M.jsx)("p",{children:Object(M.jsxs)("small",{className:"mr-50",children:[Object(M.jsx)("span",{className:"font-weight-bold",children:"User 1:"})," client@demo.com | client123"]})})]}),Object(M.jsx)(v.a,{id:"login-tip",className:"position-absolute",size:18,style:{top:"10px",right:"10px"}}),Object(M.jsx)(E.a,{target:"login-tip",placement:"left",children:"This is just for ACL demo purpose."})]}),Object(M.jsxs)(R.a,{children:[Object(M.jsx)(F.a,{className:"form-label",for:"login-email",children:"Email"}),Object(M.jsx)(S.a,{autoFocus:!0,type:"email",value:q,id:"login-email",name:"email",placeholder:"john@example.com",onChange:function(e){return B(e.target.value)},className:i()({"is-invalid":Q["login-email"]}),innerRef:H({required:!0,validate:function(e){return""!==e}})})]}),Object(M.jsxs)(R.a,{children:[Object(M.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(M.jsx)(F.a,{className:"form-label",for:"login-password",children:"Password"}),Object(M.jsx)(g.b,{to:"/forgot-password",children:Object(M.jsx)("small",{children:"Forgot Password?"})})]}),Object(M.jsx)(O.a,(t={value:U,id:"login-password",name:"password",className:"input-group-merge",onChange:function(e){return V(e.target.value)}},Object(s.a)(t,"className",i()({"is-invalid":Q["login-password"]})),Object(s.a)(t,"innerRef",H({required:!0,validate:function(e){return""!==e}})),t))]}),Object(M.jsx)(R.a,{children:Object(M.jsx)(A.a,{type:"checkbox",className:"custom-control-Primary",id:"remember-me",label:"Remember Me"})}),Object(M.jsx)(L.a.Ripple,{type:"submit",color:"primary",block:!0,children:"Sign in"})]}),Object(M.jsxs)("p",{className:"text-center mt-2",children:[Object(M.jsx)("span",{className:"mr-25",children:"New on our platform?"}),Object(M.jsx)(g.b,{to:"/pages/register-v1",children:Object(M.jsx)("span",{children:"Create an account"})})]}),Object(M.jsx)("div",{className:"divider my-2"})]})})})})}},469:function(e,t,a){"use strict";var s=a(14),n=a(15),r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=a(58),j=a.n(l),d=a(82),u={tag:d.tagPropType,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},b=function(e){var t=e.className,a=e.cssModule,r=e.color,c=e.body,i=e.inverse,l=e.outline,u=e.tag,b=e.innerRef,f=Object(n.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),p=Object(d.mapToCssModules)(j()(t,"card",!!i&&"text-white",!!c&&"card-body",!!r&&(l?"border":"bg")+"-"+r),a);return o.a.createElement(u,Object(s.a)({},f,{className:p,ref:b}))};b.propTypes=u,b.defaultProps={tag:"div"},t.a=b},470:function(e,t,a){"use strict";var s=a(14),n=a(15),r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=a(58),j=a.n(l),d=a(82),u={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},b=function(e){var t=e.className,a=e.cssModule,r=e.innerRef,c=e.tag,i=Object(n.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.mapToCssModules)(j()(t,"card-body"),a);return o.a.createElement(c,Object(s.a)({},i,{className:l,ref:r}))};b.propTypes=u,b.defaultProps={tag:"div"},t.a=b},501:function(e,t,a){"use strict";var s=a(14),n=a(15),r=a(32),o=a(0),c=a.n(o),i=a(5),l=a.n(i),j=a(58),d=a.n(j),u=a(82),b=a(483);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={children:l.a.node,className:l.a.string,closeClassName:l.a.string,closeAriaLabel:l.a.string,cssModule:l.a.object,color:l.a.string,fade:l.a.bool,isOpen:l.a.bool,toggle:l.a.func,tag:u.tagPropType,transition:l.a.shape(b.a.propTypes),innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},m={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:p(p({},b.a.defaultProps),{},{unmountOnExit:!0})};function g(e){var t=e.className,a=e.closeClassName,r=e.closeAriaLabel,o=e.cssModule,i=e.tag,l=e.color,j=e.isOpen,f=e.toggle,h=e.children,m=e.transition,g=e.fade,O=e.innerRef,y=Object(n.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),x=Object(u.mapToCssModules)(d()(t,"alert","alert-"+l,{"alert-dismissible":f}),o),v=Object(u.mapToCssModules)(d()("close",a),o),N=p(p(p({},b.a.defaultProps),m),{},{baseClass:g?m.baseClass:"",timeout:g?m.timeout:0});return c.a.createElement(b.a,Object(s.a)({},y,N,{tag:i,className:x,in:j,role:"alert",innerRef:O}),f?c.a.createElement("button",{type:"button",className:v,"aria-label":r,onClick:f},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,h)}g.propTypes=h,g.defaultProps=m,t.a=g},502:function(e,t,a){"use strict";var s=a(1),n=a(32),r=a(16),o=a(122),c=a(0),i=a(58),l=a.n(i),j=a(1032),d=a(1031),u=a(482),b=a(964),f=a(966),p=a(965),h=a(781),m=a(6),g=["label","hideIcon","showIcon","visible","className","htmlFor","placeholder","iconSize","inputClassName"],O=function(e){var t=e.label,a=e.hideIcon,i=e.showIcon,O=e.visible,y=e.className,x=e.htmlFor,v=e.placeholder,N=e.iconSize,k=e.inputClassName,T=Object(o.a)(e,g),w=Object(c.useState)(O),C=Object(r.a)(w,2),P=C[0],E=C[1];return Object(m.jsxs)(c.Fragment,{children:[t?Object(m.jsx)(u.a,{for:x,children:t}):null,Object(m.jsxs)(b.a,{className:l()(Object(n.a)({},y,y)),children:[Object(m.jsx)(f.a,Object(s.a)(Object(s.a)({type:!1===P?"password":"text",placeholder:v||"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",className:l()(Object(n.a)({},k,k))},t&&x?{id:x}:{}),T)),Object(m.jsx)(p.a,{addonType:"append",onClick:function(){return E(!P)},children:Object(m.jsx)(h.a,{className:"cursor-pointer",children:function(){var e=N||14;return!1===P?a||Object(m.jsx)(j.a,{size:e}):i||Object(m.jsx)(d.a,{size:e})}()})})]})]})};t.a=O,O.defaultProps={visible:!1}},768:function(e,t,a){"use strict";var s=a(1),n=a(124),r=a(125),o=a(83),c=a.n(o),i={loginEndpoint:"/jwt/login",registerEndpoint:"/jwt/register",refreshEndpoint:"/jwt/refresh-token",logoutEndpoint:"/jwt/logout",tokenType:"Bearer",storageTokenKeyName:"accessToken",storageRefreshTokenKeyName:"refreshToken"},l=function(){function e(t){var a=this;Object(n.a)(this,e),this.jwtConfig=Object(s.a)({},i),this.isAlreadyFetchingAccessToken=!1,this.subscribers=[],this.jwtConfig=Object(s.a)(Object(s.a)({},this.jwtConfig),t),c.a.interceptors.request.use((function(e){var t=a.getToken();return t&&(e.headers.Authorization="".concat(a.jwtConfig.tokenType," ").concat(t)),e}),(function(e){return Promise.reject(e)})),c.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config,s=e.response,n=t;return s&&401===s.status?(a.isAlreadyFetchingAccessToken||(a.isAlreadyFetchingAccessToken=!0,a.refreshToken().then((function(e){a.isAlreadyFetchingAccessToken=!1,a.setToken(e.data.accessToken),a.setRefreshToken(e.data.refreshToken),a.onAccessTokenFetched(e.data.accessToken)}))),new Promise((function(e){a.addSubscriber((function(t){n.headers.Authorization="".concat(a.jwtConfig.tokenType," ").concat(t),e(a.axios(n))}))}))):Promise.reject(e)}))}return Object(r.a)(e,[{key:"onAccessTokenFetched",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t(e)}))}},{key:"addSubscriber",value:function(e){this.subscribers.push(e)}},{key:"getToken",value:function(){return localStorage.getItem(this.jwtConfig.storageTokenKeyName)}},{key:"getRefreshToken",value:function(){return localStorage.getItem(this.jwtConfig.storageRefreshTokenKeyName)}},{key:"setToken",value:function(e){localStorage.setItem(this.jwtConfig.storageTokenKeyName,e)}},{key:"setRefreshToken",value:function(e){localStorage.setItem(this.jwtConfig.storageRefreshTokenKeyName,e)}},{key:"login",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return c.a.post.apply(c.a,["http://68.183.222.133:5000/auth/login/"].concat(t))}},{key:"register",value:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return c.a.post.apply(c.a,[this.jwtConfig.registerEndpoint].concat(t))}},{key:"refreshToken",value:function(){return c.a.post(this.jwtConfig.refreshEndpoint,{refreshToken:this.getRefreshToken()})}}]),e}();var j={jwt:new l({})}.jwt;t.a=j}}]);
//# sourceMappingURL=149.10d2517e.chunk.js.map